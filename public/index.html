<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tanks Game - Game</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- Nav Bar -->
    <ul>
        <li><a href="index.html">Game</a></li>
        <li><a href="howtoplay.html">How to Play</a></li>
        <li><a href="about.html">About</a></li>
    </ul>

    <h1>Tanks Game</h1>

    <!-- Login Screen  -->
    <div id="loginScreen" style="display:block;" class="panel">
        <input id="nicknameInput" placeholder="Enter Nickname" /><br>

        <h3>Select Tank Color</h3>

        <!-- Colour Selection (Colours) -->
        <div class="colorRow">
            <div class="colorBtn" data-color="#007bff" style="background:#007bff;"></div> <!-- Blue -->
            <div class="colorBtn" data-color="#ff3b30" style="background:#ff3b30;"></div> <!-- Red -->
            <div class="colorBtn" data-color="#28cd41" style="background:#28cd41;"></div> <!-- Green -->
            <div class="colorBtn" data-color="#ff66cc" style="background:#ff66cc;"></div> <!-- Pink -->
            <div class="colorBtn" data-color="#9b59b6" style="background:#9b59b6;"></div> <!-- Purple -->
            <div class="colorBtn" data-color="#ff8c00" style="background:#ff8c00;"></div> <!-- Orange -->
        </div>

        <input type="hidden" id="selectedColor" value="#007bff">

        <button id="joinBtn">Join Game</button>
    </div>

    <!-- lobby Screen  -->
    <div id="lobbyScreen" style="display:none;" class="panel">
        <h2>Lobby</h2>
        <p id="lobbyStatus">Waiting for players...</p>
    </div>

    <!-- Gane Over Screen  -->
    <div id="gameOverScreen" style="display:none;" class="panel">
        <div id="winnerText">Winner: </div><br>
        <div id="gameOverReason"></div><br>
        <button onclick="location.reload()">Play Again</button>
    </div>

    <!-- Game Canvas Screen  -->
    <canvas id="gameCanvas" width="1200" height="600" style="display:none;"></canvas>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
    </script>

    <!-- Script Colour Selection -->
    <script>
        // Default selected color
        let selectedColor = "#007bff";

        // Handle color button selection
        document.querySelectorAll(".colorBtn").forEach(btn => {
            btn.addEventListener("click", () => {

                // Update selected color
                selectedColor = btn.dataset.color;
                document.getElementById("selectedColor").value = selectedColor;

                // Highlight selected button
                document.querySelectorAll(".colorBtn").forEach(b => {
                    b.classList.remove("selectedColorBtn");
                });
                btn.classList.add("selectedColorBtn");
            });
        });
    </script>

    <!-- Client Game Files -->
    <script src="js/lobby.js"></script>
    <script src="js/game.js"></script>
    <script src="js/movement.js"></script>
</body>

</html>